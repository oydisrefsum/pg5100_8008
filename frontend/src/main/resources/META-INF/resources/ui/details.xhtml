<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html   xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
        xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
>

<ui:composition template="/layout.xhtml">

    <ui:define name="title">
        Details
    </ui:define>


    <ui:define name="content">



        <h2>Details</h2>

        <div id="details">
        <p>Details about #{movieController.currentMovie.title}</p>
            <p>Director: #{movieController.currentMovie.director}</p>
            <p>Date of release: #{movieController.currentMovie.dateOfRelease}</p>
            <c:forEach var="review" items="#{movieController.getReviewsSortByStars(movieController.currentMovie.id)}">
                <p>Stars: #{review.stars}</p>
                <p>Review: #{review.review}</p>
                <p>Author: #{review.user.username}</p>
                <p>Date reviewed: #{review.dateWritten}</p>
            </c:forEach>
            <c:forEach var="review" items="#{movieController.getReviewsSortByDate(movieController.currentMovie.id)}">
                <p>Stars: #{review.stars}</p>
                <p>Review: #{review.review}</p>
                <p>Author: #{review.user.username}</p>
                <p>Date reviewed: #{review.dateWritten}</p>
            </c:forEach>
        </div>
<!--
        <h1>Book trip!</h1>
        <h:form id="createForm">
        <h:commandButton value="Book now!" action="#{tripController.bookTrip}" id="createButton"/>
        </h:form>-->

    </ui:define>

</ui:composition>
</html>
