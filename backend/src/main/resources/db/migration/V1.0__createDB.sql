create sequence hibernate_sequence start with 1 increment by 1;

create table user (
    username varchar(255) not null,
    firstname varchar(255),
    lastname varchar(255),
    email varchar(255),
    enabled boolean not null,
    password varchar(255) not null,
    primary key (username)
);

create table movie(
    id bigint generated by default as identity,
    title varchar(255) not null,
    director varchar(255) not null,
    date_of_release date not null,

    primary key(id)
);

create table review
(
    id bigint generated by default as identity,
    movie_id bigint not null,
    review varchar(255) not null,
    date_written date not null,
    stars integer not null check (stars>=1 AND stars<=5),
    user_username varchar(255) not null,
    primary key (id)
);

/*alter table purchase add constraint FKlq0qkm58rh351bb84y4o5c447 foreign key (user_username) references user;
alter table purchase add constraint FKe537pv7sahdo44b6y2lajtge1 foreign key (trip_id) references trip;
alter table trip_users add constraint FKqchb6i03kpgj2gnq4xhmkydxc foreign key (users_username) references user;
alter table trip_users add constraint FKcrnfc5k5lxdfurq3b97o52dnv foreign key (trip_id) references trip;
alter table user_trips add constraint UK_812qgr2woxiu6e0776qiioy12 foreign key (user_username) references user;
alter table user_trips add constraint FK6qbykpe0c8j68iwgm77hjtvhp foreign key (trips_id) references trip;
*/
